verbose=0
signal="9"
process_name=$*[$#]

for arg in $@; do
{
	case $arg in
		-v)
			verbose=1
			;;
		-[0-9])
			# can you believe that zsh arras are one based?
			signal=$arg[2]
			;;
	esac
}; done

pids=[]
set -A pids $(pgrep ${process_name})

for pid in $pids; do
{
	[[ $verbose == 1 ]] && echo $pid
	kill -$signal $pid
}; done
